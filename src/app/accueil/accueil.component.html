<mat-toolbar color = "primary">
  <button mat-icon-button class="example-icon" aria-label="Menu">
    <mat-icon (click)="drawer.toggle()">menu</mat-icon>
  </button>
  <label>
    Projet Groupe 9
  </label>
  <label class="spacer">
  </label>
  <a mat-button routerLink = "defis" routerLinkActive="active">Liste des défis</a>
  <a mat-button routerLink = "chamis" routerLinkActive="active">Liste des Chamis</a>
  <a mat-button routerLink = "register" routerLinkActive="active">Créer Chamis</a>

  <label for="menu" *ngIf="chamis$ | async as chamis">
    {{chamis.displayName}}
  </label>
  <mat-icon [matMenuTriggerFor]="menuConnect">
    account_circle
  </mat-icon>
  <mat-menu #menuConnect="matMenu">
      <button *ngIf="chamis$ | async as chamis; else anonymousUser" mat-menu-item (click)="logout()">
        <mat-icon>logout</mat-icon>
        <span>Déconnexion</span>
      </button>
    <ng-template #anonymousUser>
      <button  mat-menu-item (click)="login()">
        <img [src]="dataIconGoogle" width="24" height="24"/>
        &nbsp;
        <span>Compte Google</span>
      </button>
    </ng-template>
  </mat-menu>
</mat-toolbar>

<mat-drawer-container class="example-container">
  <mat-drawer #drawer [mode]="mode.value">
    Contenu du drawer

  </mat-drawer>
  <mat-drawer-content>
    <mat-form-field>
      <mat-label>Sidenav mode</mat-label>
      <mat-select #mode value="push">
        <mat-option value="side">Side</mat-option>
        <mat-option value="over">Over</mat-option>
        <mat-option value="push">Push</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-tab-group mat-align-tabs="Debut">
      <mat-tab label="Votre Map">
        <yaga-map [lng]="5.734862282275417" [lat]="45.18598899690281" [zoom]="13">
          <yaga-tile-layer [(url)]="tileLayerUrl"></yaga-tile-layer>
          <yaga-marker  [lng] = "5.724524"
          [lat] = "45.188529"
          [display] = "true"
          [opacity] = "1">
          <yaga-icon [iconUrl]="iconMarker"></yaga-icon>
       </yaga-marker>
       <yaga-polyline *ngFor="let x of donnee.features; let i = index" [color]="couleur(x.properties.COULEUR)" [geoJSON]="x" >
         <yaga-popup>
          <h3>Ligne {{x.properties.NUMERO}}</h3>
          <h4>{{x.properties.LIBELLE}}</h4>
         </yaga-popup>
       </yaga-polyline>
      </yaga-map>
      </mat-tab>

    </mat-tab-group>
  </mat-drawer-content>
</mat-drawer-container>

<router-outlet></router-outlet>
